2025-11-07 23:44:35,392 - __main__ - INFO - Initializing SwingAIController...
2025-11-07 23:44:35,393 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-07 23:44:35,393 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-07 23:44:35,432 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-07 23:44:35,433 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-07 23:44:35,433 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-07 23:44:35,434 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-07 23:44:35,434 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-07 23:44:35,434 - __main__ - INFO - Backend initialized successfully
2025-11-07 23:44:51,315 - src.swing_ai_core - INFO - Starting session for default_user - Session 2025-11-07 23:44
2025-11-07 23:44:51,315 - __main__ - INFO - Session started: Session 2025-11-07 23:44
2025-11-07 23:44:56,607 - src.database - INFO - Session created: default_user_20251107_234456
2025-11-07 23:44:56,607 - src.swing_ai_core - INFO - Database session created: default_user_20251107_234456
2025-11-07 23:44:56,607 - src.swing_ai_core - INFO - Monitoring swings...
2025-11-07 23:44:56,675 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-3' coro=<SwingAIController._monitor_swings() done, defined at D:\ProMirrorGolf-1\src\swing_ai_core.py:87> exception=error("OpenCV(4.11.0) D:\\a\\opencv-python\\opencv-python\\opencv\\modules\\imgproc\\src\\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'\n")>
Traceback (most recent call last):
  File "D:\ProMirrorGolf-1\src\swing_ai_core.py", line 101, in _monitor_swings
    pose_data = await self.pose_analyzer.analyze(dtl_frame, face_frame)
  File "D:\ProMirrorGolf-1\src\pose_analyzer.py", line 22, in analyze
    face_result = self.pose_face.process(cv2.cvtColor(face_frame, cv2.COLOR_BGR2RGB))
cv2.error: OpenCV(4.11.0) D:\a\opencv-python\opencv-python\opencv\modules\imgproc\src\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'

2025-11-07 23:45:02,576 - __main__ - INFO - Session stopped
2025-11-07 23:45:03,752 - src.swing_ai_core - INFO - Session stopped successfully
2025-11-07 23:51:30,468 - __main__ - INFO - Initializing SwingAIController...
2025-11-07 23:51:30,468 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-07 23:51:30,468 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-07 23:51:30,504 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-07 23:51:30,505 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-07 23:51:30,505 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-07 23:51:30,506 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-07 23:51:30,506 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-07 23:51:30,506 - __main__ - INFO - Backend initialized successfully
2025-11-07 23:51:46,959 - __main__ - INFO - Session started: Session 2025-11-07 23:51
2025-11-07 23:51:46,959 - src.swing_ai_core - INFO - Starting session for default_user - Session 2025-11-07 23:51
2025-11-07 23:51:51,776 - src.database - INFO - Session created: default_user_20251107_235151
2025-11-07 23:51:51,777 - src.swing_ai_core - INFO - Database session created: default_user_20251107_235151
2025-11-07 23:51:51,777 - src.swing_ai_core - INFO - Monitoring swings...
2025-11-07 23:51:51,830 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-3' coro=<SwingAIController._monitor_swings() done, defined at D:\ProMirrorGolf-1\src\swing_ai_core.py:88> exception=error("OpenCV(4.11.0) D:\\a\\opencv-python\\opencv-python\\opencv\\modules\\imgproc\\src\\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'\n")>
Traceback (most recent call last):
  File "D:\ProMirrorGolf-1\src\swing_ai_core.py", line 102, in _monitor_swings
    pose_data = await self.pose_analyzer.analyze(dtl_frame, face_frame)
  File "D:\ProMirrorGolf-1\src\pose_analyzer.py", line 21, in analyze
    face_result = self.pose_face.process(cv2.cvtColor(face_frame, cv2.COLOR_BGR2RGB))
cv2.error: OpenCV(4.11.0) D:\a\opencv-python\opencv-python\opencv\modules\imgproc\src\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'

2025-11-07 23:51:58,329 - __main__ - INFO - Session stopped
2025-11-07 23:51:59,655 - src.swing_ai_core - INFO - Session stopped successfully
2025-11-08 00:01:09,788 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 00:01:09,788 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 00:01:09,788 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 00:01:09,824 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 00:01:09,825 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 00:01:09,825 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 00:01:09,825 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 00:01:09,825 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 00:01:09,825 - __main__ - INFO - Backend initialized successfully
2025-11-08 00:01:21,115 - __main__ - INFO - View changed to: Front
2025-11-08 00:01:21,939 - __main__ - INFO - View changed to: Top
2025-11-08 00:01:24,004 - src.swing_ai_core - INFO - Starting session for default_user - Session 2025-11-08 00:01
2025-11-08 00:01:28,874 - src.database - INFO - Session created: default_user_20251108_000128
2025-11-08 00:01:28,874 - src.swing_ai_core - INFO - Database session created: default_user_20251108_000128
2025-11-08 00:01:28,874 - src.swing_ai_core - INFO - Monitoring swings...
2025-11-08 00:01:28,928 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-3' coro=<SwingAIController._monitor_swings() done, defined at D:\ProMirrorGolf-1\src\swing_ai_core.py:88> exception=error("OpenCV(4.11.0) D:\\a\\opencv-python\\opencv-python\\opencv\\modules\\imgproc\\src\\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'\n")>
Traceback (most recent call last):
  File "D:\ProMirrorGolf-1\src\swing_ai_core.py", line 102, in _monitor_swings
    pose_data = await self.pose_analyzer.analyze(dtl_frame, face_frame)
  File "D:\ProMirrorGolf-1\src\pose_analyzer.py", line 21, in analyze
    face_result = self.pose_face.process(cv2.cvtColor(face_frame, cv2.COLOR_BGR2RGB))
cv2.error: OpenCV(4.11.0) D:\a\opencv-python\opencv-python\opencv\modules\imgproc\src\color.cpp:199: error: (-215:Assertion failed) !_src.empty() in function 'cv::cvtColor'

2025-11-08 00:01:28,930 - __main__ - INFO - Session started: Session 2025-11-08 00:01
2025-11-08 00:01:50,486 - src.swing_ai_core - INFO - Session stopped successfully
2025-11-08 00:01:50,486 - __main__ - INFO - Session stopped
2025-11-08 00:17:13,210 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 00:17:13,212 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 00:17:13,212 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 00:17:13,249 - src.flaw_detector - INFO - FlawDetector initialized
2025-11-08 00:17:13,298 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 00:17:13,331 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 00:17:13,448 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 00:17:13,464 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 00:17:13,477 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 00:17:13,479 - __main__ - INFO - Backend initialized successfully
2025-11-08 00:17:39,776 - src.swing_ai_core - INFO - Starting session for default_user - Session 2025-11-08 00:17
2025-11-08 00:17:44,537 - src.database - INFO - Session created: default_user_20251108_001744
2025-11-08 00:17:44,537 - src.swing_ai_core - INFO - Database session created: default_user_20251108_001744
2025-11-08 00:17:44,537 - src.swing_ai_core - INFO - Monitoring swings...
2025-11-08 00:17:44,629 - __main__ - INFO - Session started: Session 2025-11-08 00:17
2025-11-08 00:17:55,132 - __main__ - INFO - View changed to: Front
2025-11-08 00:17:56,384 - __main__ - INFO - View changed to: Top
2025-11-08 00:17:57,243 - __main__ - INFO - View changed to: Overlay
2025-11-08 00:17:58,410 - __main__ - INFO - View changed to: Side
2025-11-08 00:17:58,873 - __main__ - INFO - View changed to: Front
2025-11-08 00:17:59,353 - __main__ - INFO - View changed to: Top
2025-11-08 00:17:59,857 - __main__ - INFO - View changed to: Overlay
2025-11-08 00:18:05,017 - src.swing_ai_core - INFO - Session stopped successfully
2025-11-08 00:18:05,018 - __main__ - INFO - Session stopped
2025-11-08 00:28:04,810 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 00:28:04,819 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 00:28:04,822 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 00:28:04,878 - src.flaw_detector - INFO - FlawDetector initialized
2025-11-08 00:28:04,907 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 00:28:04,951 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 00:28:04,975 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 00:28:05,083 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 00:28:05,099 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 00:28:05,099 - __main__ - INFO - Backend initialized successfully
2025-11-08 00:28:05,101 - __main__ - INFO - Loaded 5 pros for selection
2025-11-08 00:28:13,480 - __main__ - INFO - View changed to: Front
2025-11-08 00:28:14,706 - __main__ - INFO - View changed to: Top
2025-11-08 00:28:16,426 - __main__ - INFO - View changed to: Overlay
2025-11-08 00:28:30,489 - __main__ - INFO - Pro selection changed to: JT - 7-Iron
2025-11-08 00:28:34,108 - __main__ - INFO - Club changed to: 5-Iron
2025-11-08 00:28:42,751 - __main__ - INFO - Pro selection changed to: Auto Match
2025-11-08 00:28:44,410 - __main__ - INFO - Club changed to: Driver
2025-11-08 00:28:54,811 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 00:28:54,811 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 00:28:54,812 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 00:28:54,852 - src.flaw_detector - INFO - FlawDetector initialized
2025-11-08 00:28:54,854 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 00:28:54,855 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 00:28:54,855 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 00:28:54,856 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 00:28:54,856 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 00:28:54,856 - __main__ - INFO - Backend initialized successfully
2025-11-08 00:28:54,860 - __main__ - INFO - Loaded 5 pros for selection
2025-11-08 00:46:49,128 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 00:46:49,128 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 00:46:49,128 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 00:46:49,129 - src.pose_analyzer - INFO - Attempting GPU acceleration for pose detection
2025-11-08 00:46:49,162 - src.flaw_detector - INFO - FlawDetector initialized
2025-11-08 00:46:49,163 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 00:46:49,164 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 00:46:49,165 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 00:46:49,165 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 00:46:49,165 - src.mlm2pro_listener - INFO - LaunchMonitor initialized: opengolfsim
2025-11-08 00:46:49,165 - src.swing_ai_core - INFO - MLM2Pro listener initialized
2025-11-08 00:46:49,166 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 00:46:49,166 - __main__ - INFO - Backend initialized successfully
2025-11-08 00:46:49,170 - __main__ - INFO - Loaded 5 pros for selection
2025-11-08 00:46:58,681 - __main__ - INFO - View changed to: Front
2025-11-08 00:46:59,702 - __main__ - INFO - View changed to: Top
2025-11-08 00:47:01,494 - __main__ - INFO - View changed to: Overlay
2025-11-08 00:47:03,691 - __main__ - INFO - View changed to: Side
2025-11-08 00:47:31,548 - src.swing_ai_core - INFO - Starting session for default_user - Video Upload Session (mode: video_upload)
2025-11-08 00:47:31,548 - src.swing_ai_core - INFO - Video upload mode - cameras disabled
2025-11-08 00:47:31,548 - src.mlm2pro_listener - ERROR - Failed to start connector: [WinError 2] The system cannot find the file specified
2025-11-08 00:47:31,548 - src.swing_ai_core - WARNING - Failed to start MLM2Pro listener: [WinError 2] The system cannot find the file specified
2025-11-08 00:47:31,555 - src.database - INFO - Session created: default_user_20251108_004731
2025-11-08 00:47:31,556 - src.swing_ai_core - INFO - Database session created: default_user_20251108_004731
2025-11-08 00:47:31,556 - src.swing_ai_core - INFO - Processing uploaded videos: DTL=D:/KAIZEN/data_input/Mark_DTL_V4.mp4, Face=D:/KAIZEN/data_input/Mark_DTL_V4.mp4
2025-11-08 00:47:31,558 - src.video_processor - INFO - Videos loaded: DTL (133 frames @ 60.0fps), Face (133 frames @ 60.0fps)
2025-11-08 00:47:31,701 - src.video_processor - INFO - Extracted 133 frame pairs
2025-11-08 00:47:59,172 - src.swing_ai_core - INFO - Processing uploaded videos: DTL=D:/KAIZEN/data_pro/Pro_Swings/DTL_JUSTIN THOMAS GOLF SWING - SLOW MOTION.mp4, Face=D:/KAIZEN/data_pro/Pro_Swings/DTL_JUSTIN THOMAS GOLF SWING - SLOW MOTION.mp4
2025-11-08 00:47:59,196 - src.video_processor - INFO - Videos loaded: DTL (12279 frames @ 50.0fps), Face (12279 frames @ 50.0fps)
2025-11-08 00:48:59,216 - __main__ - ERROR - Error processing videos: 
Traceback (most recent call last):
  File "D:\ProMirrorGolf-1\main.py", line 1018, in upload_video
    result = future.result(timeout=60)  # 60 second timeout for processing
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\_base.py", line 447, in result
    raise TimeoutError()
concurrent.futures._base.TimeoutError
2025-11-08 00:49:25,565 - __main__ - ERROR - Error stopping session: 
Traceback (most recent call last):
  File "D:\ProMirrorGolf-1\main.py", line 1645, in stop_session
    future.result(timeout=5)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\_base.py", line 447, in result
    raise TimeoutError()
concurrent.futures._base.TimeoutError
2025-11-08 01:07:19,716 - __main__ - INFO - Initializing SwingAIController...
2025-11-08 01:07:19,717 - src.swing_ai_core - INFO - SwingAIController config loaded
2025-11-08 01:07:19,718 - src.swing_ai_core - INFO - Initializing Swing AI modules...
2025-11-08 01:07:19,718 - src.pose_analyzer - INFO - Attempting GPU acceleration for pose detection
2025-11-08 01:07:19,772 - src.flaw_detector - INFO - FlawDetector initialized
2025-11-08 01:07:19,787 - src.database - INFO - Database initialized: ./data/swings.db
2025-11-08 01:07:19,806 - src.database - INFO - Pro database initialized: ./data/pro_swings.db
2025-11-08 01:07:19,807 - src.style_matcher - INFO - StyleMatcher initialized
2025-11-08 01:07:19,823 - src.report_generator - INFO - ReportGenerator initialized: ./data/reports
2025-11-08 01:07:19,823 - src.ai_coach - INFO - AI Coach initialized
2025-11-08 01:07:19,823 - src.gamification - INFO - Gamification system initialized
2025-11-08 01:07:19,823 - src.mlm2pro_listener - INFO - LaunchMonitor initialized: opengolfsim
2025-11-08 01:07:19,824 - src.swing_ai_core - INFO - MLM2Pro listener initialized
2025-11-08 01:07:19,824 - src.swing_ai_core - INFO - All Swing AI components initialized
2025-11-08 01:07:19,824 - __main__ - INFO - Backend initialized successfully
2025-11-08 01:07:19,826 - __main__ - INFO - Loaded 5 pros for selection
2025-11-08 01:08:34,559 - src.swing_ai_core - INFO - Starting session for default_user - Video Upload Session (mode: video_upload)
2025-11-08 01:08:34,559 - src.swing_ai_core - INFO - Video upload mode - cameras disabled
2025-11-08 01:08:34,559 - src.swing_ai_core - INFO - Video upload mode active - MLM2Pro connector skipped
2025-11-08 01:08:34,565 - src.database - INFO - Session created: default_user_20251108_010834
2025-11-08 01:08:34,567 - src.swing_ai_core - INFO - Database session created: default_user_20251108_010834
2025-11-08 01:08:34,567 - src.swing_ai_core - INFO - VIDEO UPLOAD MODE: Processing uploaded videos
2025-11-08 01:08:34,567 - src.swing_ai_core - INFO -   DTL: C:/Users/PC/Pictures/DTL._Swing.mp4
2025-11-08 01:08:34,567 - src.swing_ai_core - INFO -   Face: C:/Users/PC/Pictures/FOV_Swing.mp4
2025-11-08 01:08:34,567 - src.swing_ai_core - INFO -   Downsample factor: 1 (process every 1 frame(s))
2025-11-08 01:08:34,701 - src.video_processor - WARNING - Frame count mismatch detected: DTL=107, Face=216, Difference=109 frames
2025-11-08 01:08:34,702 - src.video_processor - WARNING -   Using shorter video length: 107 frames
2025-11-08 01:08:34,702 - src.video_processor - INFO - Videos loaded successfully:
2025-11-08 01:08:34,702 - src.video_processor - INFO -   DTL: 107 frames @ 30.3 fps, 640x480
2025-11-08 01:08:34,702 - src.video_processor - INFO -   Face: 216 frames @ 30.1 fps, 640x480
2025-11-08 01:08:34,702 - src.video_processor - INFO -   Alignment: Using 107 frames (shorter video)
2025-11-08 01:08:34,702 - src.swing_ai_core - WARNING - Frame count mismatch: DTL=107, Face=216, Diff=109 frames
2025-11-08 01:08:34,703 - src.swing_ai_core - WARNING -   Using shorter video length: 107 frames
2025-11-08 01:08:34,703 - src.swing_ai_core - INFO - Video properties:
2025-11-08 01:08:34,703 - src.swing_ai_core - INFO -   DTL: 107 frames @ 30.3 fps, 640x480
2025-11-08 01:08:34,703 - src.swing_ai_core - INFO -   Face: 216 frames @ 30.1 fps, 640x480
2025-11-08 01:08:35,075 - src.video_processor - INFO - Extracted 107 frame pairs from 107 total frames (downsample factor: 1)
2025-11-08 01:08:35,076 - src.swing_ai_core - INFO - Processing 107 frame pairs (downsampled from 107)...
2025-11-08 01:08:35,203 - src.pose_analyzer - WARNING - Frame processing took 126.46ms (target: <100ms)
